<div class="headline">
    <span> What are you </span>
    <span class='shimmer ast'>*</span>
    <span is="type-async" class='ast shimmer' id="type-text"></span>
    <span class="blinking-cursor">_</span>
    <span> for? </span>
  </div>
  <div class='right-aligned-text'>
    <p class="highlight-text medium"><strong>Take part in the worlds freshest news data project out there.<strong></p>
    <p class='highlight-text'>Research with ease, what is hard to keep track of.</p> 
    <p class='highlight-text'>Open Source and Free.</p> 
  </div>
    {% comment %} <div class='highlights-container'>
        <p class='highlight-link'>Ask AI about the News</p>
        <p class='highlight-link orange-r'>Use data analysis scripts on the news</p>
        <p class='highlight-link violet-r'>Contribute your own sources or analysis scripts</p> 
    </div>
    </div>
    <div class='left-aligned-container'>
        <div class="card">
            <h3 class="card-title">Explore SSARE</h3>
            <div class="card-content">
                <p class="card-description">SSARE short for Semantic Search Article Recommendation Engine</p>
                <p class="card-description">We open source a political news scraping and analysis plattform. 
                    The first step is search engine that shows you relevant news. This is SSARE - an API-reachable endpoint for news information spaces.
                    The efforts can be fully retraced and modified - explore SSARE's information spaces.
                </p>
            </div>
        </div>
    </div>
</div> {% endcomment %}
<script>
    const sleep = time => new Promise(resolve => setTimeout(resolve, time));

    class TypeAsync extends HTMLSpanElement {
        get typeInterval() {
            const randomMs = 100 * Math.random();
            return randomMs < 50 ? 10 : randomMs;
        }
        
        async type(text) {
            for (let character of text) {
                if (character === '*') {
                    this.innerHTML += '<span class="shimmer">*</span>';
                } else {
                    this.innerText += character;
                }
                await sleep(this.typeInterval);
            }
        }
        
        async delete(text) {
            for (let character of text) {
                this.innerText = this.innerText.slice(0, this.innerText.length - 1);
                await sleep(this.typeInterval);
            }
        }
    }

    customElements.define('type-async', TypeAsync, { extends: 'span' });

    async function init() {
        const node = document.querySelector("#type-text");
        const words = ['looking', 'researching', 'rooting', 'developing', 'asking']; // add your words here
        let counter = 0;
        
        await sleep(1000);
        node.innerText = "";
        await node.type('');
        
        while (true) {
            await node.type(words[counter]);
            if (counter === words.length - 1) {
                break;
            }
            await sleep(2000);
            await node.delete(words[counter]);
            counter++;
        }
    }
    
    init();
</script>

